<!doctype html><html lang="tr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>DreamOracle – Stüdyo (Rüyadan Video & Fal)</title>
<link rel="icon" href="/favicon.svg">
<style>
  body{margin:0;background:#0c1424;color:#e8f1ff;font:16px/1.6 Inter,system-ui,sans-serif}
  .wrap{max-width:980px;margin:0 auto;padding:28px 20px}
  a{color:#e8f1ff;text-decoration:none}
  .panel{background:#101a2e;border:1px solid #1c2a46;border-radius:16px;padding:18px;margin-top:16px}
  label{display:block;margin:8px 0 4px;color:#a8b6cb}
  input,select,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid #29406d;background:#0f1a2f;color:#e8f1ff}
  textarea{min-height:120px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .btn{margin-top:12px;background:#1b2a48;border:1px solid #29406d;border-radius:10px;color:#fff;padding:10px 14px;cursor:pointer}
  .success{margin-top:10px;background:#0d2a19;border:1px solid #1a7b4b;color:#b7ffd8;padding:10px;border-radius:10px;display:none}
  .warn{margin-top:10px;background:#2a140f;border:1px solid #7b3c1a;color:#ffd0b7;padding:10px;border-radius:10px;display:none}
</style>
</head><body>
  <div class="wrap">
    <p><a href="/">← Anasayfa</a></p>
    <h1>Stüdyo</h1>
    <p>Rüyanı videoya dönüştür veya fal türlerinden birini seçip gönder. Şimdilik talepler e-postaya düşer; otomasyon adımını eklemeye hazır.</p>

    <section class="panel" id="video">
      <h2>Rüyadan Video</h2>
      <div class="row">
        <div>
          <label>Ad Soyad</label>
          <input id="v-name" placeholder="Adın Soyadın">
        </div>
        <div>
          <label>E-posta</label>
          <input id="v-email" placeholder="ornek@mail.com">
        </div>
      </div>
      <label>Rüyan (kısa, sahneler halinde)</label>
      <textarea id="v-dream" placeholder="Sahneleri yaz: yer, kişiler, duygular..."></textarea>
      <label>Video formatı</label>
      <select id="v-format">
        <option value="reels">Dikey (Reels/TikTok)</option>
        <option value="yt">Yatay (YouTube)</option>
      </select>
      <button class="btn" onclick="submitVideo()">Videoya dönüştür (talep oluştur)</button>
      <div class="success" id="v-ok">Talebin iletildi. E-postanı kontrol edebilirsin. ✅</div>
      <div class="warn" id="v-err">Sunucu cevap vermedi. Lütfen tekrar dene.</div>
    </section>

    <section class="panel" id="fortune" style="margin-bottom:40px">
      <h2>Fal Gönder (Tarot / Kahve / El / Yıldız)</h2>
      <div class="row">
        <div>
          <label>Ad Soyad</label>
          <input id="f-name" placeholder="Adın Soyadın">
        </div>
        <div>
          <label>E-posta</label>
          <input id="f-email" placeholder="ornek@mail.com">
        </div>
      </div>
      <label>Fal türü</label>
      <select id="f-type">
        <option value="tarot">Tarot</option>
        <option value="kahve">Kahve</option>
        <option value="el">El falı</option>
        <option value="yildiz">Yıldız (doğum bilgisi gerekir)</option>
      </select>
      <label>Mesaj / detay</label>
      <textarea id="f-msg" placeholder="Sorun, niyetin; varsa doğum tarihi/saati/şehri."></textarea>
      <button class="btn" onclick="submitFortune()">Fal gönder</button>
      <div class="success" id="f-ok">Talebin iletildi. E-posta kutunu kontrol edebilirsin. ✅</div>
      <div class="warn" id="f-err">Sunucu cevap vermedi. Lütfen tekrar dene.</div>
    </section>
  </div>

<script>
async function send(payload){
  try{
    const res = await fetch('/api/send-email',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
    return res.ok;
  }catch(e){ return false; }
}
async function submitVideo(){
  const ok = await send({
    subject:'[DreamOracle] Rüyadan Video Talebi',
    name: document.getElementById('v-name').value.trim(),
    email: document.getElementById('v-email').value.trim(),
    message:
`Video formatı: ${document.getElementById('v-format').value}
Rüya sahneleri:
${document.getElementById('v-dream').value.trim()}`
  });
  document.getElementById('v-ok').style.display = ok?'block':'none';
  document.getElementById('v-err').style.display = ok?'none':'block';
}
async function submitFortune(){
  const ok = await send({
    subject:'[DreamOracle] Fal Talebi',
    name: document.getElementById('f-name').value.trim(),
    email: document.getElementById('f-email').value.trim(),
    message:
`Fal türü: ${document.getElementById('f-type').value}
Detay/Soru:
${document.getElementById('f-msg').value.trim()}`
  });
  document.getElementById('f-ok').style.display = ok?'block':'none';
  document.getElementById('f-err').style.display = ok?'none':'block';
}
</script>
</body></html>
