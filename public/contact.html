<!doctype html>
<html lang="tr">
  <head>
    <meta charset="utf-8" />
    <title>RÃ¼yanÄ± GÃ¶nder | DreamOracle</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="RÃ¼yanÄ± gÃ¶nder, DreamOracle e-posta adresine dÃ¼ÅŸsÃ¼n. Premium yorum ve yaÅŸam koÃ§luÄŸu seÃ§enekleri."
    />
    <link rel="icon" href="/favicon.svg" />
    <style>
      :root {
        --bg: #0f172a;
        --card: rgba(15, 23, 42, 0.65);
        --card-border: rgba(148, 163, 184, 0.15);
        --text: #e2e8f0;
        --muted: #94a3b8;
        --primary: #38bdf8;
        --primary-dark: #0ea5e9;
        --danger: #f87171;
        --success: #16a34a;
        --radius: 16px;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: radial-gradient(circle at top, #1e293b 0%, #020617 60%, #020617 100%);
        color: var(--text);
        min-height: 100vh;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      header {
        padding: 18px 32px;
        border-bottom: 1px solid rgba(148, 163, 184, 0.08);
        background: rgba(2, 6, 23, 0.5);
        backdrop-filter: blur(22px);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .brand-icon {
        width: 30px;
        height: 30px;
        border-radius: 10px;
        background: radial-gradient(circle, #38bdf8, #0f172a);
        display: grid;
        place-items: center;
        font-weight: 700;
      }

      .title-wrap {
        display: flex;
        flex-direction: column;
        line-height: 1.1;
      }

      .title-wrap small {
        color: var(--muted);
        font-size: 12px;
      }

      .back-link {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        font-size: 13px;
        color: var(--muted);
      }

      main {
        max-width: 1100px;
        margin: 32px auto 60px;
        padding: 0 16px;
      }

      .form-shell {
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.35));
        border: 1px solid var(--card-border);
        border-radius: 24px;
        padding: 28px 28px 24px;
        display: grid;
        grid-template-columns: 2fr 1.1fr;
        gap: 26px;
      }

      .form-shell h1 {
        font-size: clamp(1.5rem, 3vw, 1.9rem);
        margin-bottom: 4px;
      }

      .form-shell p.lead {
        color: var(--muted);
        font-size: 0.9rem;
        margin-bottom: 18px;
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      label {
        font-size: 0.75rem;
        color: var(--muted);
        margin-bottom: 4px;
        display: block;
      }

      input,
      textarea,
      select {
        width: 100%;
        background: rgba(15, 23, 42, 0.12);
        border: 1px solid rgba(148, 163, 184, 0.15);
        border-radius: 10px;
        padding: 12px 12px;
        color: var(--text);
        font-size: 0.9rem;
        outline: none;
        transition: border 0.15s ease, box-shadow 0.15s ease;
      }

      input:focus,
      textarea:focus,
      select:focus {
        border: 1px solid rgba(56, 189, 248, 0.6);
        box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.15);
      }

      textarea {
        min-height: 140px;
        resize: vertical;
      }

      .two-col {
        display: flex;
        gap: 12px;
      }

      .two-col > div {
        flex: 1;
      }

      button[type="submit"] {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: #0f172a;
        border: none;
        border-radius: 999px;
        padding: 11px 22px;
        font-weight: 600;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        justify-content: center;
      }

      button[type="submit"]:disabled {
        opacity: 0.5;
        cursor: wait;
      }

      .right-panel {
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.4), rgba(15, 23, 42, 0));
        border: 1px solid rgba(148, 163, 184, 0.08);
        border-radius: 20px;
        padding: 18px 18px 14px;
        height: fit-content;
      }

      .right-panel h2 {
        font-size: 1rem;
        margin: 0 0 14px;
      }

      .perk {
        display: flex;
        gap: 10px;
        margin-bottom: 12px;
      }

      .perk-icon {
        width: 28px;
        height: 28px;
        border-radius: 999px;
        background: rgba(56, 189, 248, 0.12);
        display: grid;
        place-items: center;
        font-size: 13px;
      }

      .badge {
        display: inline-block;
        background: rgba(22, 163, 74, 0.12);
        color: #bbf7d0;
        font-size: 11px;
        padding: 3px 10px 4px;
        border-radius: 999px;
        margin-bottom: 6px;
      }

      .status {
        font-size: 0.8rem;
        margin-top: 10px;
        padding: 9px 10px;
        border-radius: 9px;
        background: rgba(15, 23, 42, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .status.error {
        border-color: rgba(248, 113, 113, 0.4);
        background: rgba(248, 113, 113, 0.04);
        color: #fecaca;
      }

      .status.ok {
        border-color: rgba(22, 163, 74, 0.4);
        background: rgba(22, 163, 74, 0.04);
        color: #dcfce7;
      }

      footer {
        text-align: center;
        padding: 40px 0 30px;
        font-size: 0.7rem;
        color: rgba(148, 163, 184, 0.5);
      }

      @media (max-width: 900px) {
        .form-shell {
          grid-template-columns: 1fr;
        }
        .two-col {
          flex-direction: column;
        }
      }

      @media (max-width: 520px) {
        header {
          flex-direction: column;
          gap: 10px;
          align-items: flex-start;
        }
        .form-shell {
          padding: 20px 16px 16px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="brand">
        <div class="brand-icon">D</div>
        <div class="title-wrap">
          <strong>DreamOracle</strong>
          <small>AI RÃ¼ya Yorumcusu &amp; KiÅŸisel Rehber</small>
        </div>
      </div>
      <a class="back-link" href="/index.html">â† Anasayfa</a>
    </header>

    <main>
      <div class="form-shell">
        <!-- SOL: FORM -->
        <div>
          <h1>RÃ¼yanÄ± GÃ¶nder</h1>
          <p class="lead">
            Formu doldur, e-posta kutuna yanÄ±t gelsin. Ä°stersen â€œPremium Yorumâ€ seÃ§ â†’ daha detaylÄ±, yaÅŸam koÃ§luÄŸu
            baÄŸlamÄ±nda yorumlansÄ±n.
          </p>

          <form id="dreamForm">
            <div class="two-col">
              <div>
                <label for="name">Ad Soyad</label>
                <input id="name" name="name" type="text" placeholder="Ali Baran ÃœzÃ¼mcÃ¼" required />
              </div>
              <div>
                <label for="email">E-posta</label>
                <input id="email" name="email" type="email" placeholder="ornek@mail.com" required />
              </div>
            </div>

            <div class="two-col">
              <div>
                <label for="plan">Paket</label>
                <select id="plan" name="plan">
                  <option value="standart">Standart RÃ¼ya Yorumu (Ã¼cretsiz)</option>
                  <option value="premium">Premium RÃ¼ya + YaÅŸam KoÃ§luÄŸu yorumu</option>
                  <option value="iliski">Ä°liÅŸki / ruh eÅŸi perspektifinden yorum</option>
                </select>
              </div>
              <div>
                <label for="topic">Ã–ncelik</label>
                <select id="topic" name="topic">
                  <option value="genel">Genel yorum</option>
                  <option value="is">Ä°ÅŸ / Para</option>
                  <option value="aile">Aile / Ev</option>
                  <option value="iliski">Ä°liÅŸki / AÅŸk</option>
                  <option value="manevi">Manevi mesaj</option>
                </select>
              </div>
            </div>

            <div>
              <label for="message">RÃ¼yanÄ±z</label>
              <textarea
                id="message"
                name="message"
                placeholder="RÃ¼yanÄ± mÃ¼mkÃ¼n olduÄŸunca detaylÄ± yaz. Yer, kiÅŸiler, hissettiklerin, tekrar eden sembollerâ€¦"
                required
              ></textarea>
            </div>

            <button type="submit" id="submitBtn">
              GÃ¶nder
              <span aria-hidden="true">â†’</span>
            </button>

            <div id="formStatus" class="status" style="display: none"></div>
          </form>
        </div>

        <!-- SAÄ: BÄ°LGÄ° / PREMIUM -->
        <div class="right-panel">
          <span class="badge">Yeni</span>
          <h2>Premium Yorum + KoÃ§luk</h2>
          <p style="color: var(--muted); font-size: 0.8rem; line-height: 1.5">
            RÃ¼yandaki sembolleri gÃ¼nlÃ¼k hayatÄ±nla eÅŸleÅŸtirip aksiyon Ã¶nerisi istiyorsan bu alanÄ± seÃ§. KÄ±saca â€œÅŸimdi ne
            yapmalÄ±yÄ±m?â€ sorusuna cevap verir.
          </p>

          <div class="perk">
            <div class="perk-icon">âœ¦</div>
            <div>
              <strong>Terapi deÄŸil, yÃ¶nlendirme.</strong>
              <div style="color: var(--muted); font-size: 0.73rem">RÃ¼ya â†’ bilinÃ§altÄ± â†’ bugÃ¼n ne yapacaÄŸÄ±m zinciri.</div>
            </div>
          </div>

          <div class="perk">
            <div class="perk-icon">â±</div>
            <div>
              <strong>24 saat iÃ§inde cevap.</strong>
              <div style="color: var(--muted); font-size: 0.73rem">
                Form bize ulaÅŸtÄ±ÄŸÄ±nda mail relay Ã§alÄ±ÅŸÄ±r (Gmail / Script).
              </div>
            </div>
          </div>

          <div class="perk">
            <div class="perk-icon">ğŸ§¿</div>
            <div>
              <strong>Koruma / enerji yorumu.</strong>
              <div style="color: var(--muted); font-size: 0.73rem">Ä°stenirse eklenecek modÃ¼l.</div>
            </div>
          </div>

          <div id="apiStatus" class="status" style="margin-top: 16px">
            API: <strong>dreamoracle1.vercel.app</strong> Ã¼zerinden gÃ¶nderilecek.
          </div>
        </div>
      </div>
    </main>

    <footer>Â© 2025 DreamOracle Â· Ä°letiÅŸim</footer>

    <script>
      // burayÄ± senin Ã§alÄ±ÅŸan endpoint'ine baÄŸlÄ±yoruz
      const API_URL = "https://dreamoracle1.vercel.app/api/send-email";
      // domain tam oturduÄŸunda bunu buna Ã§evir: "https://dreamoracle.space/api/send-email"

      const form = document.getElementById("dreamForm");
      const statusBox = document.getElementById("formStatus");
      const submitBtn = document.getElementById("submitBtn");
      const apiStatus = document.getElementById("apiStatus");

      // sayfa aÃ§Ä±ldÄ±ÄŸÄ±nda API canlÄ± mÄ± diye HEAD/GET ile yoklayabiliriz (gÃ¶rÃ¼nmez)
      (async () => {
        try {
          const r = await fetch(API_URL, { method: "GET" });
          if (r.ok === false) throw new Error("not ok");
          apiStatus.classList.add("ok");
          apiStatus.innerText = "API baÄŸlÄ±: " + API_URL;
        } catch (err) {
          apiStatus.classList.add("error");
          apiStatus.innerText = "API ÅŸu anda GET kabul etmiyor ama sorun deÄŸil, POST ile gÃ¶ndereceÄŸiz.";
        }
      })();

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        statusBox.style.display = "none";

        const payload = {
          name: form.name.value.trim(),
          email: form.email.value.trim(),
          message: form.message.value.trim(),
          plan: form.plan.value,
          topic: form.topic.value,
          source: "dreamoracle-contact-form"
        };

        if (!payload.name || !payload.email || !payload.message) {
          showStatus("LÃ¼tfen tÃ¼m alanlarÄ± doldur.", true);
          return;
        }

        submitBtn.disabled = true;
        submitBtn.innerText = "GÃ¶nderiliyor...";

        try {
          const res = await fetch(API_URL, {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify(payload)
          });

          if (res.ok) {
            showStatus("RÃ¼yan ulaÅŸtÄ±. E-postanÄ± kontrol edebilirsin. ğŸ‘", false);
            form.reset();
            // thanks sayfan varsa:
            // window.location.href = "/thanks.html";
          } else {
            const data = await res.json().catch(() => ({}));
            showStatus("Sunucu cevap vermedi: " + (data.error || res.status), true);
          }
        } catch (err) {
          showStatus("BaÄŸlantÄ± hatasÄ±. Biraz sonra tekrar dene.", true);
        } finally {
          submitBtn.disabled = false;
          submitBtn.innerText = "GÃ¶nder â†’";
        }
      });

      function showStatus(msg, isError) {
        statusBox.style.display = "block";
        statusBox.textContent = msg;
        statusBox.classList.remove("error", "ok");
        statusBox.classList.add(isError ? "error" : "ok");
      }
    </script>
    const form = document.getElementById("dream-form");
    const statusBox = document.getElementById("form-status");

    form.addEventListener("submit", async function (e) {
      e.preventDefault();

      const formData = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        paket: document.getElementById("paket").value,
        oncelik: document.getElementById("oncelik").value,
        mesaj: document.getElementById("message").value,
      };

      statusBox.textContent = "GÃ¶nderiliyor...";
      statusBox.style.color = "#fff";

      try {
        const res = await fetch("/api/send-email", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(formData),
        });

        const data = await res.json();

        if (res.ok) {
          statusBox.textContent = "RÃ¼yan ulaÅŸtÄ± âœ¨ E-postanÄ± kontrol et.";
          form.reset();
        } else {
          statusBox.textContent =
            "Sunucu hata verdi: " + (data.error || "Bilinmeyen hata");
          statusBox.style.color = "#ffb4b4";
        }
      } catch (err) {
        statusBox.textContent = "BaÄŸlantÄ± kurulamadÄ±. Bir daha dener misin?";
        statusBox.style.color = "#ffb4b4";
      }
    });
  </script>
</body>
</html>
  </body>
</html>
